{"mappings":"sOACO,SAASA,EAAmBC,GAC/B,MAAMC,EACL,2EAGH,OAAOD,EAAIE,KAAI,EAACC,aAAEA,EAAYC,cAAEA,EAAaC,KAAEA,EAAIC,MAAEA,EAAKC,MAAEA,EAAKC,SAAEA,EAAQC,UAAEA,KAC3E,iCAAiCL,GAAiBH,gEACpBE,GAAgBF,WAAsBI,GAAQ,iIAGtDC,GAAS,6EAGTC,GAAS,gFAGNC,GAAY,iFAGXC,GAAa,oDAIvCC,KAAK,G,gTCxBT,IAAAC,EAAAC,EAAA,SAMOC,eAAeC,EAAWC,EAAMC,GAEpC,MAAMC,EAAS,IAAIC,gBAAgB,CAClCC,IAAK,qCACLC,EAAGJ,EACHK,WAAY,QACZC,YAAa,aACbC,YAAY,EACZR,KAAMA,EACNS,SAAUC,IAIZ,aADmBd,EAAAe,QAAMC,IAAI,4BAAeV,I,+BCV9C,MAAMW,EAAaC,SAASC,cAAc,gBACpCC,EAAUF,SAASC,cAAc,YACjCE,EAAWH,SAASC,cAAc,cAClCG,EAASJ,SAASC,cAAc,SAGhCL,EAAU,GAChB,IAAIS,EAAW,EAEXC,EAAa,GACbC,EAAW,IAAIC,EAAAC,GAAJ,CAAmB,cAE9BC,GAAwB,EAGHX,EAAdY,iBAAiB,UAE5B,SAA4BC,GAQkB,GAN1CA,EAAIC,iBACoBX,EAAhBY,UAAU,GACGR,EAAVM,EAAIG,OAAOC,SAAS,GAAGC,MACrBZ,EAAH,EAGU,KAAhBC,GAAuC,MAAfA,EAI5B,OAFAJ,EAAQY,UAAY,GAEbN,EAAAU,GAASC,OAAOC,QAAQ,kCAQjCnC,EAAWoB,EAAUC,GAAYe,MAAMC,IAErC,GAAIA,EAASC,KAAKC,WAAa,EAAG,CAChChB,EAAAU,GAASC,OAAOM,QAAQ,oBAAoBH,EAASC,KAAKC,qBACzD,MAAME,EAASxD,EAAmBoD,EAASC,KAAKI,MACjDzB,EAAQ0B,mBAAmB,YAAaF,GACxCnB,EAASsB,UAET1B,EAAS2B,UAAUC,QAAQ,YAAa,aAEpCT,EAASC,KAAKC,WAAa5B,IAC7BO,EAAS2B,UAAUC,QAAQ,YAAa,aACxC3B,EAAO0B,UAAUC,QAAQ,YAAa,a,MAKxCvB,EAAAU,GAASC,OAAOC,QAAQ,2EAA2E,IAGpGY,OAAOC,GAAMzB,EAAAU,GAASC,OAAOC,QAAQ,8EAElChB,EAAO0B,UAAUC,QAAQ,YAAa,Y,IAG9C5B,EAASQ,iBAAiB,SAEzB,WACMD,IACFL,GAAY,EAEZF,EAAS2B,UAAUC,QAAQ,YAAa,aACxC3B,EAAO0B,UAAUC,QAAQ,YAAa,aAGtC9C,EAAWoB,EAAUC,GAAYe,MAAMC,IAEnC,GAAIA,EAASC,KAAKI,KAAKO,OAAQ,CAC/B,MAAMR,EAASxD,EAAmBoD,EAASC,KAAKI,MAChDzB,EAAQ0B,mBAAmB,YAAaF,GACtCnB,EAASsB,UACLP,EAASC,KAAKI,KAAKO,OAAStC,GACrCQ,EAAO0B,UAAUC,QAAQ,YAAa,aAG/BnC,EAAU0B,EAASC,KAAKI,KAAKO,SAC/BxB,GAAwB,EACxBP,EAAS2B,UAAUC,QAAQ,YAAa,a","sources":["src/js/createMarkup.js","src/js/load-more/fetchAPI-LMore.js","src/js/load-more/load_more.js"],"sourcesContent":["\nexport function createMarkupInList(arr) {\n    const defaults={\nURL: 'http://www.palmares.lemondeduchiffre.fr/images/joomlart/demo/default.jpg'\n    }\n    \n  return arr.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) =>\n    `<a class=\"gallery_link\" href=\"${largeImageURL || defaults.URL}\"><div class=\"photo-card\">\n      <img class='img-card'src=\"${webformatURL || defaults.URL}\" alt=\"${tags || 'No tags'}\" loading=\"lazy\" height= '200px'/>\n      <div class=\"info\">\n        <p class=\"info-item\">\n          <b>Likes: </b>${likes || '-'}\n        </p>\n        <p class=\"info-item\">\n          <b>Views: </b>${views || '-'}\n        </p>\n        <p class=\"info-item\">\n          <b>Comments: </b>${comments || '-'}\n        </p>\n        <p class=\"info-item\">\n          <b>Downloads: </b>${downloads || '-'}\n        </p>\n      </div>\n    </div></a>`\n  ).join('');\n}","import axios from \"axios\";\nimport { perPage } from './load_more';\n\nconst BASE_URL = 'https://pixabay.com/api/';\n\n//ств запиту на api\nexport async function fetchCards(page, valueInput) {\n\n   const params = new URLSearchParams({\n    key: '39154877-9df82b17a56e0efc5c16aca53',\n    q: valueInput,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    page: page,\n    per_page: perPage,\n      });\n \n  const resp = await axios.get(`${BASE_URL}?${params}`);\n  return resp\n  //  .then((resp) => resp)\n  //   .catch((_) => Notiflix.Notify.warning('Sorry, there are no images matching your search query. Please try again.'))\n};\n\n\n\n\n\n","import {createMarkupInList} from '../createMarkup'\n// import axios from \"axios\";\nimport {fetchCards} from './fetchAPI-LMore'\nimport Notiflix from 'notiflix';\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport '../../css/style.css'\n\nconst searchForm = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\nconst loadMore = document.querySelector('.load-more');\nconst textEl = document.querySelector('.text');\n\n\nconst perPage = 40;\nlet currPage = 1;\nexport {perPage}\nlet valueInput = '';\nlet lightbox = new SimpleLightbox('.gallery a');\n// Оголосіть змінну, яка вказує, чи є ще елементи для завантаження.\nlet moreElementsAvailable = true;\n\n// слухач подій на запит по слову\nsearchForm.addEventListener('submit', handlerClickOnForm);\n\nfunction handlerClickOnForm(evt) {\n\n    evt.preventDefault();//відміна перезагру сторінки\n    gallery.innerHTML=''; // зачистка при новому пошуку\n  valueInput = evt.target.elements[0].value; // те що ввів клієнт\n   currPage = 1; // При новому пошуку повертаємося на першу сторінку\n   \n  \n    if ((valueInput === '') || (valueInput === ' ')) {\n    \n    gallery.innerHTML = '';\n    // loadMore.classList.add('is-hidden')\n    return Notiflix.Notify.warning(`Sorry, you must enter a value.`);\n  }\n  \n  fetchData()    //  запит на API\n}\n\n\nfunction fetchData() {\n  fetchCards(currPage, valueInput).then((dataResp) => {\n\n    if (dataResp.data.totalHits >= 1) {\n      Notiflix.Notify.success(`Hooray! We found ${dataResp.data.totalHits} images.`);\n       const markup = createMarkupInList(dataResp.data.hits);\n      gallery.insertAdjacentHTML('beforeend', markup);\n      lightbox.refresh();\n\n      loadMore.classList.replace('is-hidden', 'no-hidden')\n\n      if (dataResp.data.totalHits <= perPage) {\n        loadMore.classList.replace('no-hidden', 'is-hidden');\n        textEl.classList.replace('is-hidden', 'no-hidden');\n\n      }\n    }\n    else {\n      Notiflix.Notify.warning('Sorry, there are no images matching your search query. Please try again.')\n    }\n  })\n    .catch((_) => Notiflix.Notify.warning('Sorry, there are no images matching your search query. Please try again.'))\n\n        textEl.classList.replace('no-hidden', 'is-hidden');\n}\n\nloadMore.addEventListener(\"click\", handlerLoadMore);\n\n function handlerLoadMore() {\n   if (moreElementsAvailable) {\n     currPage += 1;\n\n     loadMore.classList.replace('is-hidden', 'no-hidden');\n     textEl.classList.replace('no-hidden', 'is-hidden');\n\n\n     fetchCards(currPage, valueInput).then((dataResp) => {\n\n         if (dataResp.data.hits.length) {\n         const markup = createMarkupInList(dataResp.data.hits);\n         gallery.insertAdjacentHTML('beforeend', markup);\n           lightbox.refresh();\n           if (dataResp.data.hits.length < perPage) {\n      textEl.classList.replace('is-hidden', 'no-hidden')\n           };\n            \n         if (perPage > dataResp.data.hits.length) {\n           moreElementsAvailable = false;\n           loadMore.classList.replace('no-hidden', 'is-hidden');\n      // textEl.classList.replace('is-hidden', 'no-hidden')\n         }\n\n       }\n   \n     })\n   }\n}\n"],"names":["$bb2db7a89a40ba72$export$1322211cc48fbc3b","arr","defaults","map","webformatURL","largeImageURL","tags","likes","views","comments","downloads","join","$2shzp","parcelRequire","async","$4645792fde32a5f5$export$edabb37d154e6aeb","page","valueInput","params","URLSearchParams","key","q","image_type","orientation","safesearch","per_page","$df74ca305bf37e3f$export$6cfc372de9b933a","default","get","$df74ca305bf37e3f$var$searchForm","document","querySelector","$df74ca305bf37e3f$var$gallery","$df74ca305bf37e3f$var$loadMore","$df74ca305bf37e3f$var$textEl","$df74ca305bf37e3f$var$currPage","$df74ca305bf37e3f$var$valueInput","$df74ca305bf37e3f$var$lightbox","$parcel$interopDefault","$fZKcF","$df74ca305bf37e3f$var$moreElementsAvailable","addEventListener","evt","preventDefault","innerHTML","target","elements","value","$7Y9D8","Notify","warning","then","dataResp","data","totalHits","success","markup","hits","insertAdjacentHTML","refresh","classList","replace","catch","_","length"],"version":3,"file":"load-more.c948fb20.js.map"}